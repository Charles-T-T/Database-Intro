# 实验三 数据更新和视图定义

## 实验目的

理解和掌握采用SQL 语句来更新数据和建立视图的语法。

## 实验内容和要求

1、使用数据定义语句，按照教材中学生、课程和选课表的模式，在数据库创建三张表。注意保持教材要求的主码、外码和其他约束（若表已存在可忽略此步骤）

2、在每个表中至少插入三条记录。

3、自行设计多个由于违背完整性约束导致插入失败的尝试，至少包含主码、Unique、外码约束各一次。

4、建立一个新表SMajorAvgAge，保存各专业学生的平均年龄。

5、在SMajorAvgAge中插入各专业学生的平均年龄值。

6、将所有课程的学分加1。

7、修改学生表，增加一个字段，FamilyName。用来保存学生的姓。

8、修改学生表，将sname的第一个字符取出，存为该学生的FamilyName。

9、修改学生表，增加一个字段 GPA。GPA为百分制，加权（credit）平均。

10、修改学生表，计算每个学生的GPA，存入其GPA字段。

11、删除所有成绩为空值的选课记录。

12、删除所有计算机专业学生的选课记录。

13、建立一个视图，保存学生的学号、姓名和GPA。

14、从视图查询某个学生的GPA。

 

15、尝试向上述视图中插入一行，观察执行情况。